<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Purachai CS RMU</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Poppins"
    />
    <style>
      body,
      h1,
      h2,
      h3,
      h4,
      h5 {
        font-family: "Poppins", sans-serif;
      }
      body {
        font-size: 16px;
      }
      .w3-half img {
        margin-bottom: -6px;
        margin-top: 16px;
        opacity: 0.8;
        cursor: pointer;
      }
      .w3-half img:hover {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <!-- Sidebar/menu -->
    <nav
      class="w3-sidebar w3-red w3-collapse w3-top w3-large w3-padding"
      style="z-index: 3; width: 300px; font-weight: bold"
      id="mySidebar"
    >
      <br />
      <a
        href="javascript:void(0)"
        onclick="w3_close()"
        class="w3-button w3-hide-large w3-display-topleft"
        style="width: 100%; font-size: 22px"
        >Close Menu</a
      >
      <div class="w3-container">
        <h3 class="w3-padding-64">
          <b>Purachai<br />Memakun</b>
        </h3>
      </div>
      <div class="w3-bar-block">
        <a
          href="./index.html"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white"
          >Home</a
        >
        <a
          href="./java.html"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white"
          >Java Script</a
        >
        <a
          href="./api.html"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white"
          >API's</a
        >
        <a
          href="#"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white w3-disabled"
          >Waiting for update.</a
        >
        <a
          href="#"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white w3-disabled"
          >Waiting for update.</a
        >
        <a
          href="./spreadSheets.html"
          onclick="w3_close()"
          class="w3-bar-item w3-button w3-hover-white"
          >Contact Me</a
        >
      </div>
    </nav>

    <!-- Top menu on small screens -->
    <header
      class="w3-container w3-top w3-hide-large w3-red w3-xlarge w3-padding"
    >
      <a
        href="javascript:void(0)"
        class="w3-button w3-red w3-margin-right"
        onclick="w3_open()"
        >☰</a
      >
      <span>Purachai Memakun</span>
    </header>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div
      class="w3-overlay w3-hide-large"
      onclick="w3_close()"
      style="cursor: pointer"
      title="close side menu"
      id="myOverlay"
    ></div>

    <!-- !PAGE CONTENT! -->
    <div
      class="w3-main w3-animate-opacity"
      style="margin-left: 340px; margin-right: 40px"
    >
      <!-- Header -->
      <div class="w3-container" style="margin-top: 80px" id="showcase">
        <h1 class="w3-jumbo"><b>API's</b></h1>
        <h1 class="w3-xxxlarge w3-text-red"><b>By Purachai Memakun</b></h1>
        <hr style="width: 50px; border: 5px solid red" class="w3-round" />
      </div>

      <!-- Content API's -->

      <!-- <hr>
      <div class="w3-animate-opacity w3-center w3-padding-24">
        <h1 style="font-size: 160px;">Page is Wait for update.</h1>
      </div>
      <hr> -->
      <hr />
      <div class="w3-center w3-padding-24">
        <h3>This is a cat API's</h3>
        <div class="w3-padding-64">
          <p id="textCat"></p>
        </div>
        <button class="w3-btn w3-hover-border-light-green" onclick="CatFact()">
          Click To Call Cat API's
        </button>
      </div>
      <hr />
      <div class="w3-center w3-padding-24">
        <h3>Zip API's</h3>
        <label for="zipCode">รหัสไปรษณีย์ในไทย : </label>
        <input id="zipCode" type="text" />
        <div class="w3-padding-64">
          <p id="locatiobZip"></p>
        </div>
        <button class="w3-btn w3-hover-border-light-green" onclick="ZipLine()">
          คลิกเพื่อเช็ครหัสไปรษณีย์
        </button>
      </div>
      <hr />
      <div class="w3-center w3-padding-24">
        <table id="btc_table"></table>
      </div>
      <hr />
      <div class="w3-center w3-padding-24">
        <form method="POST" action="https://script.google.com/macros/s/AKfycbzCtQXBUPWIJc5gIsqDeZ0mj6lNlvGxB7AIEyRVSx9jqwb8ZGofpBi6bwdJM7QHXEdz2Q/exec">
          <input name="Email" type="email" placeholder="Email" required>
          <input name="Name" type="text" placeholder="Name" required>
          <input name="Topic" type="text" placeholder="Topic" required>
          <button type="submit">Send</button>
        </form>
      </div>
      <!-- End page content -->
    </div>

    <!-- W3.CSS Container -->
    <!-- Footer -->
    <footer class="w3-center w3-black w3-padding-16">
      <p>
        Edit by
        <a
          href="https://www.facebook.com/FieldmersTH/"
          title="Purachai"
          target="_blank"
          class="w3-hover-text-green"
          >Purachai Memakun CS RMU</a
        >
      </p>
    </footer>

    <script>
      function w3_open() {
        document.getElementById("mySidebar").style.display = "block";
        document.getElementById("myOverlay").style.display = "block";
      }

      function w3_close() {
        document.getElementById("mySidebar").style.display = "none";
        document.getElementById("myOverlay").style.display = "none";
      }

      function CatFact() {
        fetch("https://catfact.ninja/fact")
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            let txt = "";
            for (let x in data) {
              txt += data[x] + " ";
              document.getElementById("textCat").innerHTML = txt;
            }

            return data;
          });
      }

      function ZipLine() {
        let zipCode = document.getElementById("zipCode").value;
        fetch(`https://api.zippopotam.us/th/${zipCode}`)
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            let txt = JSON.stringify(data, null, 2);
            document.getElementById("locatiobZip").innerHTML = txt;
          });
      }

      function BTC() {
        fetch("https://api.coinbase.com/v2/exchange-rates?currency=BTC")
          .then((response) => response.json())
          .then((data) => {
            const rates = data.data.rates;
            let table =
              '<h2>Exchange Rates for BTC</h2><table border="1"><tr><th>Currency</th><th>Rate</th></tr>';
            let count = 0;
            for (const currency in rates) {
              if (rates.hasOwnProperty(currency)) {
                table += `<tr><td>${currency}</td><td>${rates[currency]}</td></tr>`;
                count++;
                if (count === 10) {
                  break;
                }
              }
            }

            table += "</table>";
            document.getElementById("btc_table").innerHTML = table;
          })
          .catch((error) => console.error("Error fetching data:", error));
      }
      setInterval(BTC, 6000);
      BTC();
    </script>
  </body>
</html>
